const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DoVc1nyL.js","./tDSd62Ru.js","./entry.6R7cXF8K.css","./BZ6Goi0H.js","./DpjjOA9C.js"])))=>i.map(i=>d[i]);
import{_ as $}from"./BZ6Goi0H.js";import{j as S,k as w,l as x,_ as E,m as N,n as b,q as T,c as _,a as m,F as v,s as j,o as p,v as k,w as C,x as A,t as q}from"./tDSd62Ru.js";import{u as D}from"./DpjjOA9C.js";const h={devlog:"v3.5.0--1BZSe9q5slKX-qmmw4Rd2uWTFQlu-H0qFDwCk0RoDIQ"},O={devlog:"_content_devlog",info:"_content_info"},G={devlog:{type:"page",fields:{id:"string",title:"string",body:"json",description:"string",extension:"string",meta:"json",navigation:"json",path:"string",seo:"json",stem:"string"}},info:{type:"data",fields:{}}},g=(o,n)=>{const t=o._conditions;return t.length>0?`(${t.join(` ${n} `)})`:""},f=o=>{const n=[],t={_conditions:n,where(r,a,e){let s;switch(a.toUpperCase()){case"IN":case"NOT IN":if(Array.isArray(e)){const c=e.map(u=>d(u)).join(", ");s=`"${String(r)}" ${a.toUpperCase()} (${c})`}else throw new TypeError(`Value for ${a} must be an array`);break;case"BETWEEN":case"NOT BETWEEN":if(Array.isArray(e)&&e.length===2)s=`"${String(r)}" ${a.toUpperCase()} ${d(e[0])} AND ${d(e[1])}`;else throw new Error(`Value for ${a} must be an array with two elements`);break;case"IS NULL":case"IS NOT NULL":s=`"${String(r)}" ${a.toUpperCase()}`;break;case"LIKE":case"NOT LIKE":s=`"${String(r)}" ${a.toUpperCase()} ${d(e)}`;break;default:s=`"${String(r)}" ${a} ${d(typeof e=="boolean"?Number(e):e)}`}return n.push(`${s}`),t},andWhere(r){const a=r(f());return n.push(g(a,"AND")),t},orWhere(r){const a=r(f());return n.push(g(a,"OR")),t}};return t},I=(o,n)=>{const t={conditions:[],selectedFields:[],offset:0,limit:0,orderBy:[],count:{field:"",distinct:!1}},r={__params:t,andWhere(e){const s=e(f());return t.conditions.push(g(s,"AND")),r},orWhere(e){const s=e(f());return t.conditions.push(g(s,"OR")),r},path(e){return r.where("path","=",S(e))},skip(e){return t.offset=e,r},where(e,s,c){return r.andWhere(u=>u.where(String(e),s,c)),r},limit(e){return t.limit=e,r},select(...e){return e.length&&t.selectedFields.push(...e),r},order(e,s){return t.orderBy.push(`"${String(e)}" ${s}`),r},async all(){return n(o,a()).then(e=>e||[])},async first(){return n(o,a({limit:1})).then(e=>e[0]||null)},async count(e="*",s=!1){return n(o,a({count:{field:String(e),distinct:s}})).then(c=>c[0].count)}};function a(e={}){let s="SELECT ";if(e?.count)s+=`COUNT(${e.count.distinct?"DISTINCT ":""}${e.count.field}) as count`;else{const u=Array.from(new Set(t.selectedFields));s+=u.length>0?u.map(i=>`"${String(i)}"`).join(", "):"*"}s+=` FROM ${O[String(o)]}`,t.conditions.length>0&&(s+=` WHERE ${t.conditions.join(" AND ")}`),t.orderBy.length>0?s+=` ORDER BY ${t.orderBy.join(", ")}`:s+=" ORDER BY stem ASC";const c=e?.limit||t.limit;return c>0&&(t.offset>0?s+=` LIMIT ${c} OFFSET ${t.offset}`:s+=` LIMIT ${c}`),s}return r};function d(o){return`'${String(o).replace(/'/g,"''")}'`}async function H(o,n){return await $fetch(`/__nuxt_content/${n}/sql_dump.txt`,{context:{},responseType:"text",headers:{"content-type":"text/plain"},query:{v:h[String(n)],t:void 0}})}async function B(o,n,t){return await $fetch(`/__nuxt_content/${n}/query`,{context:o?{cloudflare:o.context.cloudflare}:{},headers:{"content-type":"application/json",...o?.node?.req?.headers?.cookie?{cookie:o.node.req.headers.cookie}:{}},query:{v:h[String(n)],t:void 0},method:"POST",body:{sql:t}})}const R=o=>{const n=w()?.ssrContext?.event;return I(o,(t,r)=>L(n,t,r))};async function L(o,n,t){return window.WebAssembly?W(n,t):B(o,String(n),t)}async function W(o,n){return await x(()=>import("./DoVc1nyL.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url).then(r=>r.loadDatabaseAdapter(o)).then(r=>r.all(n))}const F={class:"project-grid"},U=["src","alt"],Q={class:"project-name"},M={__name:"index",async setup(o){let n,t;const r=N(),{data:a,pending:e,error:s}=([n,t]=b(()=>D(r.path,()=>R("devlog").select("meta").all(),"$vRmqFrOnzl")),n=await n,t(),n);console.log(a);const c=T(()=>{if(!a.value)return[];const u=new Map;return a.value.forEach(i=>{i&&!u.has(i)&&u.set(i,{name:i.meta.project,image:i.meta.project_image||null})}),Array.from(u.values())});return(u,i)=>{const y=$;return p(),_("div",null,[i[0]||(i[0]=m("h1",null,"Devlogs",-1)),i[1]||(i[1]=m("p",null,"Wähle ein Projekt aus, um die dazugehörigen Devlogs zu sehen.",-1)),m("div",F,[(p(!0),_(v,null,j(c.value,l=>(p(),k(y,{key:l.name,to:`/devlog/project/${l.name}`,class:"project-card"},{default:C(()=>[l.image?(p(),_("img",{key:0,src:l.image,alt:l.name,class:"project-image"},null,8,U)):A("",!0),m("div",Q,q(l.name),1)]),_:2},1032,["to"]))),128))])])}}},P=E(M,[["__scopeId","data-v-ad8f8870"]]),Y=Object.freeze(Object.defineProperty({__proto__:null,default:P},Symbol.toStringTag,{value:"Module"}));export{h as a,G as c,H as f,Y as i,O as t};
